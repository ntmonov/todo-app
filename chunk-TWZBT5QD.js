import{a as B}from"./chunk-742SYTTY.js";import{$a as c,Ab as A,Bb as j,Cb as Q,Da as M,Db as L,Eb as R,Fb as q,Gb as U,Hb as $,Ia as y,Ib as z,Jb as x,Ka as p,Na as E,Oa as k,Pa as O,Qa as r,Ra as n,Sa as _,Ta as w,Ua as m,Va as v,Ya as V,Z as h,Za as N,_a as F,a as b,ab as S,cb as C,db as P,eb as G,ga as u,ha as f,ta as I,vb as D,wa as l,xa as g}from"./chunk-4NAFFOBT.js";var W=["editModal"],X=e=>({isCompleted:e});function Y(e,t){if(e&1&&(r(0,"div",3),c(1),n()),e&2){let d=v();l(),S(d.todo.content)}}function Z(e,t){if(e&1){let d=w();r(0,"form",7),m("submit",function(){u(d);let o=v();return f(o.editItem())}),r(1,"div",8)(2,"label",9),c(3,"Todo title"),n(),_(4,"input",10),n(),r(5,"div",8)(6,"label",11),c(7,"Todo content"),n(),_(8,"textarea",12),n(),_(9,"input",13),n()}if(e&2){let d=v();p("formGroup",d.formGroup),l(9),p("disabled",d.formGroup.invalid)}}var H=(()=>{let t=class t{constructor(s,o,i){this.todosService=s,this.fb=o,this.modalService=i,this.isOpened=M(!1)}ngOnInit(){this.formGroup=this.fb.nonNullable.group({title:this.fb.nonNullable.control(this.todo.title,[j.required]),content:this.fb.nonNullable.control(this.todo.content)})}toggleTodoContent(){this.isOpened.set(!this.isOpened())}toggleIsCompleted(){this.todo.isCompleted=!this.todo.isCompleted}deleteItem(){this.todosService.deleteTodo(this.todo.id)}editItem(){let s=b(b({},this.todo),this.formGroup.value);this.todosService.updateTodo(s),this.modalService.dismissAll()}openEditModal(){this.modalService.open(this.modal)}};t.\u0275fac=function(o){return new(o||t)(g(x),g($),g(B))},t.\u0275cmp=h({type:t,selectors:[["app-todo-item"]],viewQuery:function(o,i){if(o&1&&V(W,5),o&2){let a;N(a=F())&&(i.modal=a.first)}},inputs:{todo:"todo"},standalone:!0,features:[C],decls:9,vars:7,consts:[["editModal",""],[1,"position-absolute",3,"click","src"],[1,"title",3,"ngClass"],[1,"content"],["type","checkbox",3,"change","checked"],["src","../../../../../assets/pencil.svg","alt","Edit",1,"position-absolute",3,"click"],["src","../../../../../assets/trash.svg","alt","Trash",1,"position-absolute",3,"click"],[3,"submit","formGroup"],[1,"form-group"],["for","todoTitle"],["formControlName","title","type","text","id","todoTitle","aria-describedby","todoTitle","placeholder","Enter title",1,"form-control"],["for","todoContent"],["formControlName","content","rows","5","id","todoContent","aria-describedby","todoContent","placeholder","Enter content",1,"form-control"],["type","submit","value","Update",1,"btn","btn-secondary",3,"disabled"]],template:function(o,i){if(o&1){let a=w();r(0,"img",1),m("click",function(){return u(a),f(i.toggleTodoContent())}),n(),r(1,"div",2),c(2),n(),y(3,Y,2,1,"div",3),r(4,"input",4),m("change",function(){return u(a),f(i.toggleIsCompleted())}),n(),r(5,"img",5),m("click",function(){return u(a),f(i.openEditModal())}),n(),r(6,"img",6),m("click",function(){return u(a),f(i.deleteItem())}),n(),y(7,Z,10,2,"ng-template",null,0,G)}o&2&&(p("src",i.isOpened()?"../../../../../assets/chevron-up.svg":"../../../../../assets/chevron-down.svg",I),l(),p("ngClass",P(5,X,i.todo.isCompleted)),l(),S(i.todo.title),l(),E(3,i.isOpened()?3:-1),l(),p("checked",i.todo.isCompleted))},dependencies:[D,z,R,A,Q,L,q,U],styles:["[_nghost-%COMP%]{display:block;width:100%;min-width:250px;border:1px solid green;padding:10px;position:relative;box-shadow:5px 5px 2px 2px #0003}.title[_ngcontent-%COMP%]{max-width:80%}img[_ngcontent-%COMP%]:first-of-type{right:10px;top:10px;cursor:pointer}img[_ngcontent-%COMP%]:nth-of-type(2){bottom:10px;right:35px;cursor:pointer}img[_ngcontent-%COMP%]:last-of-type{right:10px;bottom:10px;cursor:pointer}.isCompleted[_ngcontent-%COMP%]{text-decoration:line-through}ng-template[_ngcontent-%COMP%]{display:block;padding:10px;box-shadow:5px 5px 2px 2px #0003;max-width:50vw}form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{padding:10px}.btn[_ngcontent-%COMP%]{margin-left:10px}"]});let e=t;return e})();var ee=(e,t)=>t.id;function te(e,t){if(e&1&&(r(0,"div"),_(1,"app-todo-item",2),n()),e&2){let d=t.$implicit;l(),p("todo",d)}}var ue=(()=>{let t=class t{constructor(s){this.todosService=s}getAllTodos(){return this.todosService.getAllTodos()}fetchTodos(){this.todosService.fetchTodos()}};t.\u0275fac=function(o){return new(o||t)(g(x))},t.\u0275cmp=h({type:t,selectors:[["app-todos-list"]],standalone:!0,features:[C],decls:6,vars:0,consts:[[1,"todos-list"],[1,"btn","btn-primary","mt-3",3,"click"],[3,"todo"]],template:function(o,i){o&1&&(c(0,`List
`),r(1,"div",0),k(2,te,2,1,"div",null,ee),n(),r(4,"div",1),m("click",function(){return i.fetchTodos()}),c(5,"Fetch Todos"),n()),o&2&&(l(2),O(i.getAllTodos()))},dependencies:[H],styles:[".todos-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}"]});let e=t;return e})();export{ue as TodosListComponent};
